{
  "name": "firefox",
  "displayName": "Firefox",
  "displayName_de": "Firefox",
  "version": "1.0.0",
  "description": "Browser session restore support",
  "description_de": "Unterstützung für Browser-Sitzungswiederherstellung",
  "about": "Enables Firefox to automatically restore your previous browsing session including all tabs and windows.",
  "about_de": "Ermöglicht Firefox, Ihre vorherige Browser-Sitzung einschließlich aller Tabs und Fenster automatisch wiederherzustellen.",
  "wmClass": ["firefox", "Firefox", "Navigator"],
  "type": "mozilla-browser",

  "settings": {
    "sessionRestore": {
      "type": "app_config",
      "label": "Session Restore",
      "label_de": "Sitzungswiederherstellung",
      "description": "Configure Firefox to automatically restore previous session on startup (no manual click needed)",
      "description_de": "Firefox so konfigurieren, dass die vorherige Sitzung beim Start automatisch wiederhergestellt wird (kein manuelles Klicken erforderlich)",
      "check": {
        "type": "firefox_profile",
        "pattern": "browser.startup.page\", 3"
      },
      "configure": {
        "type": "firefox",
        "prefLines": [
          "user_pref(\"browser.startup.page\", 3);",
          "user_pref(\"browser.sessionstore.resume_from_crash\", true);",
          "user_pref(\"browser.sessionstore.max_resumed_crashes\", -1);",
          "user_pref(\"browser.sessionstore.resuming_after_os_restart\", true);",
          "user_pref(\"browser.warnOnQuit\", false);",
          "user_pref(\"browser.tabs.warnOnClose\", false);"
        ],
        "checkPattern": "browser.startup.page\", 3"
      },
      "unconfigure": {
        "type": "manual",
        "message": "Please disable session restore in Firefox settings manually:\n1. Open Firefox\n2. Go to Settings (about:preferences#general)\n3. Find 'Startup' section\n4. Uncheck 'Restore previous session'"
      },
      "openSettings": {
        "type": "url",
        "url": "about:preferences#general"
      }
    }
  },

  "launch": {
    "executables": ["firefox"],
    "flags": [],
    "conditionalFlags": {}
  },

  "features": {
    "isSingleInstance": true,
    "timeout": 120000,
    "gracePeriod": 60000
  }
}
